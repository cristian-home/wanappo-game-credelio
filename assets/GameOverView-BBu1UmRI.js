import{d as G,u as M,a as C,r as o,j as L,m as O,p as A,c as P,b as e,f as n,e as t,v as V,L as z,T as p,x as D,t as a,B as E,s as c,o as I}from"./index-BqhB9dUn.js";const N={class:"relative flex min-h-dvh w-screen items-center justify-center overflow-hidden px-4 py-16"},T={class:"text-yellow text-6xl font-bold"},H={class:"text-2xl text-white"},F={class:"z-10 w-full max-w-lg rounded-2xl bg-white p-4 text-center text-black inset-shadow-[0_0_10px_rgba(0,0,0,0.5)]"},U={class:"mb-4 text-2xl font-bold text-gray-800"},W={class:"space-y-3"},q={class:"flex justify-between"},J={class:"stats-label"},K={class:"stats-value text-blue-600"},Q={class:"flex justify-between"},X={class:"stats-label"},Y={class:"stats-value text-green-600"},Z={class:"flex justify-between"},$={class:"stats-label"},ee={class:"stats-value text-red-600"},te={class:"flex w-full justify-between gap-6"},oe=G({__name:"GameOverView",setup(ae){const r=O(),s=M(),{t:i}=C(),y=o(),g=o(),v=o(),m=o(),x=o(),_=o(),h=o(),w=o(),b=o([m,x,_,h,w]),R=()=>{s.startNewGame(),r.push("/game-play")},B=()=>{s.resetGame(),r.push("/")},k=()=>{c(y.value,{initial:{opacity:0,y:-100},enter:{opacity:1,y:0,transition:{duration:500,delay:100}}}),c(g.value,{initial:{opacity:0,y:100},enter:{opacity:1,y:0,transition:{type:"spring",delay:600}}}),c(v.value,{initial:{opacity:0,y:100},enter:{opacity:1,y:0,scale:1,transition:{duration:500,delay:100}}}),b.value.filter(l=>l.value).forEach((l,f)=>{const d=(f+1)*200+800;c(l,{initial:{scale:0,opacity:0},enter:{opacity:1,scale:1,transition:{type:"spring",delay:d}}})})},j=async()=>{const l=c(y.value,{initial:{opacity:1,y:0},leave:{opacity:0,y:-100,transition:{duration:500}}}),f=c(g.value,{initial:{opacity:1,y:0},leave:{opacity:0,y:100,transition:{type:"spring",duration:500}}}),d=c(v.value,{initial:{opacity:1,y:0,scale:1},leave:{opacity:0,y:100,scale:.9,transition:{duration:500}}}),S=b.value.filter(u=>u.value).map(u=>c(u,{initial:{opacity:1,scale:1},leave:{opacity:0,scale:.5,transition:{duration:500}}}));await Promise.all([l.apply("leave"),f.apply("leave"),d.apply("leave"),...S.map(u=>u.apply("leave"))])};return L(()=>{s.isGameOver?k():s.isPlaying||s.isPaused?r.replace("/game-play"):s.isGameWon?r.replace("/game-won"):r.replace("/")}),A(async(l,f,d)=>{console.log("Leaving GameOverView, preparing animations..."),await j(),console.log("Animations completed, navigating to:",l.fullPath),d()}),(l,f)=>(I(),P("div",N,[e("div",{class:"fixed top-0 left-0 flex w-full justify-between gap-4 p-4",ref_key:"logosDivRef",ref:y},[n(t(V),{class:"z-20 w-64"}),n(t(z),{class:"w-32"})],512),n(t(p),{class:"fixed top-40 left-10 w-12 rotate-180 text-4xl text-white",ref_key:"decorativeBugsRef1",ref:m},null,512),n(t(p),{class:"fixed top-40 right-10 w-16 -rotate-45 text-3xl text-white",ref_key:"decorativeBugsRef2",ref:x},null,512),n(t(p),{class:"fixed bottom-20 left-20 w-16 rotate-45 text-3xl text-white",ref_key:"decorativeBugsRef3",ref:_},null,512),n(t(p),{class:"fixed right-10 bottom-10 w-16 text-4xl text-white",ref_key:"decorativeBugsRef4",ref:h},null,512),n(t(D),{class:"fixed bottom-50 left-10 w-8 rotate-[45deg] text-4xl text-white",ref_key:"decorativeBugsRef5",ref:w},null,512),e("div",{class:"bg-bright-green outline-yellow relative z-10 flex w-full max-w-2xl flex-col items-center justify-center gap-4 rounded-4xl p-6 text-white shadow-lg outline-4 outline-solid",ref_key:"gameOverCardRef",ref:g},[e("h1",T,a(t(i)("game.gameOver")),1),e("p",H,a(t(i)("game.timeUp")),1),e("div",F,[e("h2",U,a(t(i)("stats.finalStats")),1),e("div",W,[e("div",q,[e("span",J,a(t(i)("stats.levelReached"))+":",1),e("span",K,a(t(s).currentLevel),1)]),e("div",Q,[e("span",X,a(t(i)("stats.finalScore"))+":",1),e("span",Y,a(t(s).score),1)]),e("div",Z,[e("span",$,a(t(i)("stats.bugsRemaining"))+":",1),e("span",ee,a(t(s).bugsRemaining),1)])])]),e("div",te,[e("button",{onClick:R,class:"btn-primary w-full"},a(t(i)("game.tryAgain")),1),e("button",{onClick:B,class:"btn-secondary w-full"},a(t(i)("game.backToHome")),1)])],512),n(E,{ref_key:"bottomStripeRef",ref:v},null,512)]))}});export{oe as default};
