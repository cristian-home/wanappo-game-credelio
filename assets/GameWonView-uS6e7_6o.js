import{d as M,u as S,a as C,r as i,j as G,m as A,p as W,c as P,b as e,f as r,e as t,v as V,L as z,T as p,x as D,t as a,B as E,s as c,o as I}from"./index-BqhB9dUn.js";const N={class:"relative flex min-h-dvh w-screen items-center justify-center overflow-hidden px-4 py-16"},T={class:"flex items-center gap-2 text-5xl"},H={class:"text-yellow font-bold"},F={class:"text-xl text-white"},O={class:"z-10 w-full max-w-lg rounded-2xl bg-white p-4 text-center text-black inset-shadow-[0_0_10px_rgba(0,0,0,0.5)]"},q={class:"mb-4 text-2xl font-bold text-gray-800"},J={class:"space-y-3"},K={class:"stats-item flex justify-between"},Q={class:"stats-label"},U={class:"stats-value text-green-600"},X={class:"stats-item flex justify-between"},Y={class:"stats-label"},Z={class:"stats-value text-green-600"},$={class:"stats-item flex justify-between"},ee={class:"stats-label"},te={class:"stats-value text-yellow-600"},se={class:"flex w-full justify-between gap-6"},le=M({__name:"GameWonView",setup(ae){const f=A(),o=S(),{t:l}=C(),y=i(),x=i(),v=i(),g=i(),m=i(),w=i(),_=i(),b=i(),h=i([g,m,w,_,b]),R=()=>{o.startNewGame(),f.push("/game-play")},B=()=>{o.resetGame(),f.push("/")},k=()=>{c(y.value,{initial:{opacity:0,y:-100},enter:{opacity:1,y:0,transition:{duration:500,delay:100}}}),c(x.value,{initial:{opacity:0,y:100},enter:{opacity:1,y:0,transition:{type:"spring",delay:600}}}),c(v.value,{initial:{opacity:0,y:100},enter:{opacity:1,y:0,scale:1,transition:{duration:500,delay:100}}}),h.value.filter(n=>n.value).forEach((n,s)=>{const u=(s+1)*200+800;c(n,{initial:{scale:0,opacity:0},enter:{opacity:1,scale:1,transition:{type:"spring",delay:u}}})})},L=async()=>{const n=c(y.value,{initial:{opacity:1,y:0},leave:{opacity:0,y:-100,transition:{duration:500}}}),s=c(x.value,{initial:{opacity:1,y:0},leave:{opacity:0,y:100,transition:{type:"spring",duration:500}}}),u=c(v.value,{initial:{opacity:1,y:0,scale:1},leave:{opacity:0,y:100,scale:.9,transition:{duration:500}}}),j=h.value.filter(d=>d.value).map(d=>c(d,{initial:{opacity:1,scale:1},leave:{opacity:0,scale:.5,transition:{duration:500}}}));await Promise.all([n.apply("leave"),s.apply("leave"),u.apply("leave"),...j.map(d=>d.apply("leave"))])};return G(()=>{o.isGameWon?k():o.isPlaying||o.isPaused?f.replace("/game-play"):o.isGameOver?f.replace("/game-over"):f.replace("/")}),W(async(n,s,u)=>{console.log("Leaving GameWonView, preparing animations..."),await L(),console.log("Animations completed, navigating to:",n.fullPath),u()}),(n,s)=>(I(),P("div",N,[e("div",{class:"fixed top-0 left-0 flex w-full justify-between gap-4 p-4",ref_key:"logosDivRef",ref:y},[r(t(V),{class:"z-20 w-64"}),r(t(z),{class:"w-32"})],512),r(t(p),{class:"fixed top-40 left-10 w-12 rotate-180 text-4xl text-white",ref_key:"decorativeBugsRef1",ref:g},null,512),r(t(p),{class:"fixed top-40 right-10 w-16 -rotate-45 text-3xl text-white",ref_key:"decorativeBugsRef2",ref:m},null,512),r(t(p),{class:"fixed bottom-20 left-20 w-16 rotate-45 text-3xl text-white",ref_key:"decorativeBugsRef3",ref:w},null,512),r(t(p),{class:"fixed right-10 bottom-10 w-16 text-4xl text-white",ref_key:"decorativeBugsRef4",ref:_},null,512),r(t(D),{class:"fixed bottom-50 left-10 w-8 rotate-[45deg] text-4xl text-white",ref_key:"decorativeBugsRef5",ref:b},null,512),e("div",{class:"bg-bright-green outline-yellow relative z-10 flex w-full max-w-2xl flex-col items-center justify-center gap-4 rounded-4xl p-6 text-white shadow-lg outline-4 outline-solid",ref_key:"gameWonCardRef",ref:x},[s[2]||(s[2]=e("div",{class:"absolute -top-10 -left-10 animate-bounce text-6xl text-yellow-400"},"üéä",-1)),s[3]||(s[3]=e("div",{class:"absolute -top-10 -right-10 animate-pulse text-5xl text-yellow-400"},"‚ú®",-1)),s[4]||(s[4]=e("div",{class:"animate-float absolute -bottom-10 -left-10 text-4xl text-yellow-400"},"üéà",-1)),s[5]||(s[5]=e("div",{class:"absolute -right-10 -bottom-10 text-6xl text-yellow-400"},"üèÜ",-1)),e("div",T,[s[0]||(s[0]=e("span",null,"üéâ",-1)),e("h1",H,a(t(l)("game.victory")),1),s[1]||(s[1]=e("span",null,"üéâ",-1))]),e("p",F,a(t(l)("game.congratulations",{maxLevel:t(o).maxLevel})),1),e("div",O,[e("h2",q,a(t(l)("stats.victoryStats")),1),e("div",J,[e("div",K,[e("span",Q,a(t(l)("stats.levelsCompleted"))+":",1),e("span",U,a(t(o).maxLevel)+"/"+a(t(o).maxLevel),1)]),e("div",X,[e("span",Y,a(t(l)("stats.finalScore"))+":",1),e("span",Z,a(t(o).score),1)]),e("div",$,[e("span",ee,a(t(l)("stats.status"))+":",1),e("span",te,a(t(l)("game.bugMaster")),1)])])]),e("div",se,[e("button",{onClick:R,class:"btn-primary w-full"},a(t(l)("game.playAgain")),1),e("button",{onClick:B,class:"btn-secondary w-full"},a(t(l)("game.backToHome")),1)])],512),r(E,{ref_key:"bottomStripeRef",ref:v},null,512)]))}});export{le as default};
